<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3-index</title>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
  <script type="application/javascript">
    function setCookies() {
      const daysToExpire = new Date();
      daysToExpire.setDate(daysToExpire.getDate() + 10);
      const firstName = document.querySelector(".firstname").value;
      const email = document.querySelector(".email").value;
      if (firstName && email) {
        Cookies.set("firstname", firstName, { expires: 10 });
        Cookies.set("email", email, { expires: 10 });
        showWelcomeMessageOrForm(firstName);
      }
     
    }

    function showCookies() {
      const cookies = document.cookie;
      const para = document.createElement("p");
      // console.log("cookies: "+ cookies);
      para.innerHTML = `Email: ${Cookies.get(
        "email"
      )} - Firstname: ${Cookies.get("firstname")}`;
      document.body.appendChild(para);
    }
    function showForm() {
      const message = document.querySelector("#welcome-msg");
      if (message) {
        message.remove();
      }
      document.querySelector("#form").style.display = "block";
    }
    function hideForm() {
      document.querySelector("#form").style.display = "none";
    }
    function deleteCookiesAndShowForm() {
      Cookies.remove('Fisrtname');
      Cookies.remove('Email');

      showForm();
    }
    function showWelcomeMessageOrForm(firstName) {
      if (!document.cookie) {
        showForm();
      } else {
        const welcomeMsg = document.createElement("div");
        welcomeMsg.setAttribute("id", "welcome-msg");
        welcomeMsg.innerHTML = `<h1>Welcome: ${
          firstName
        } <a style="font-weight: normal; font-style: italic; margin-left: 10px;" onclick="deleteCookiesAndShowForm()">(logout)</a></h1>`;
        document.body.appendChild(welcomeMsg);
        hideForm();
      }
    }
  </script>
</head>

<body>
  <div id="form">
    <h2>Login to the website</h2>

    <input type="text" placeholder="FirstName" class="firstname">
    <input type="text" placeholder="Email" class="email">

    <button type="button" id="btn" onclick="setCookies()">Log me in</button>
  </div>
  <script type="application/javascript">
    showWelcomeMessageOrForm();
  </script>
  <h2>Cookies</h2>
  <button type="button" id="show_btn" onclick="showCookies()">Show the cookies</button>
</body>

</html>